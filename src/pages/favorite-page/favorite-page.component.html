<app-layout>
  <main class='page__main page__main--favorites'>
    <div class='page__favorites-container container'>
      <section class='favorites'>
        <h1 class='favorites__title'>Saved listing</h1>
        <ul class='favorites__list'>
          <li class='favorites__locations-items' *ngFor='let entries of Object.entries(favorites)'>
            <div class='favorites__locations locations locations--current'>
              <div class='locations__item'>
                <a class='locations__item-link' [routerLink]='["/offers", entries[0].toLowerCase()]'>
                  <span>{{entries[0]}}</span>
                </a>
              </div>
            </div>
            <div class='favorites__places'>
              <article class='favorites__card place-card' *ngFor='let city of entries[1]'>
                <div *ngIf='city.isPremium' class='place-card__mark'>
                  <span>Premium</span>
                </div>
                <div class='favorites__image-wrapper place-card__image-wrapper'>
                  <a href='#'>
                    <img
                      class='place-card__image'
                      [ngSrc]='city.previewImage'
                      width='150'
                      height='110'
                      alt='Place image'>
                  </a>
                </div>
                <div class='favorites__card-info place-card__info'>
                  <div class='place-card__price-wrapper'>
                    <div class='place-card__price'>
                      <b class='place-card__price-value'>&euro;{{city.price}}</b>
                      <span class='place-card__price-text'>&#47;&nbsp;night</span>
                    </div>
                    <button
                      (click)='handleFavoriteClick(city.id, city.isFavorite)'
                      class='place-card__bookmark-button place-card__bookmark-button--active button'
                      type='button'
                    >
                      <svg class='place-card__bookmark-icon' width='18' height='19'>
                        <use xlink:href='#icon-bookmark'></use>
                      </svg>
                      <span class='visually-hidden'>In bookmarks</span>
                    </button>
                  </div>
                  <div class='place-card__rating rating'>
                    <div class='place-card__stars rating__stars'>
                      <span [ngStyle]='getRatingStyle(city.rating)'></span>
                      <span class='visually-hidden'>Rating</span>
                    </div>
                  </div>
                  <h2 class='place-card__name'>
                    <a href='#'>{{city.title}}</a>
                  </h2>
                  <p class='place-card__type'>{{city.type | titlecase}}</p>
                </div>
              </article>
            </div>
          </li>


        </ul>
      </section>
    </div>
  </main>
  <footer class='footer container'>
    <a class='footer__logo-link' href='main.html'>
      <img class='footer__logo' ngSrc='assets/img/logo.svg' alt='6 cities logo' width='64' height='33'>
    </a>
  </footer>
</app-layout>
